<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- namespace属性是名称空间，必须唯一 -->
<mapper namespace="com.edu.victor.Dao.MessageDao">
    <insert id="addMessage" useGeneratedKeys="true" keyProperty="id" parameterType="message">
        insert into message(content_id,content,category,name,time)value(#{contentId},#{content},#{category},#{name},#{time});
    </insert>
    <insert id="addMsgUser" parameterType="Message">
        insert into msg_user(msg_id,target_id,is_teacher)value<foreach collection="list" item="item" index="index" separator="," >
            (#{item.msgId},#{item.targetId},#{item.isTeacher})
        </foreach>
    </insert>
    <delete id="deleteMessage">
        delete from message where content_id = #{0} and category = #{1}
    </delete>
</mapper>
